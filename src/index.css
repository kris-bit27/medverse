@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* ═══════════════════════════════════════════════════════════════════
   MEDVERSE DESIGN SYSTEM — jediný zdroj pravdy
   Chceš změnit celý portál? Uprav jen sekce ▼ EDIT níže.
   ═══════════════════════════════════════════════════════════════════ */


/* ─────────────────────────────────────────────────────────────────
   ▼ EDIT 1 — FONTY
   Source Serif 4 = display/body (čtení, nadpisy stránek)
   IBM Plex Sans  = UI (sidebar, labels, tlačítka, karty)
   IBM Plex Mono  = čísla, kódy, hodnoty
   ───────────────────────────────────────────────────────────────── */
@layer base {
  :root {
    --mn-font-serif: 'Source Serif 4', Georgia, serif;
    --mn-font-sans:  'IBM Plex Sans', -apple-system, sans-serif;
    --mn-font-mono:  'IBM Plex Mono', monospace;
  }

  body {
    font-family: var(--mn-font-sans);
    -webkit-font-smoothing: antialiased;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  /* h1/h2/h3 NEJSOU globálně serif — jen explicitně přes .mn-page-title atd.
     Důvod: sidebar linky, card tituly, badge texty = sans musí zůstat sans. */
  * { border-color: hsl(var(--border)); outline-color: hsl(var(--ring) / 0.5); }
}


/* ─────────────────────────────────────────────────────────────────
   ▼ EDIT 2 — SVĚTLÉ TÉMA
   ───────────────────────────────────────────────────────────────── */
@layer base {
  :root {
    /* Povrchy */
    --mn-bg:            220 18% 97%;   /* #f5f7fa */
    --mn-surface:       0   0%  100%;  /* #ffffff */
    --mn-surface-2:     220 16% 94%;   /* #f0f2f6 */
    --mn-elevated:      0   0%  100%;  /* #ffffff */
    --mn-border:        220 15% 88%;   /* #e2e5ee */
    --mn-border-subtle: 220 15% 93%;   /* #ebeef4 */

    /* Text */
    --mn-text:          221 39% 11%;   /* #111827 */
    --mn-muted:         220  9% 46%;   /* #6b7280 */
    --mn-muted-2:       220  9% 62%;   /* #9ca3af */

    /* Akcent teal */
    --mn-accent:        174 82% 31%;   /* #0d9488 */
    --mn-accent-hover:  174 76% 25%;   /* #0f766e */
    --mn-accent-light:  173 58% 39%;   /* #14b8a6 */
    --mn-accent-subtle: 173 58% 39% / 0.08;

    /* Sekundární akcent cyan — pro gradienty, accent-2 alias */
    --mn-accent-2:      192 82% 36%;   /* #0891b2 */

    /* Sémantické */
    --mn-success:   160 60% 38%;   /* #059669 */
    --mn-warn:       38 92% 46%;   /* #d97706 */
    --mn-danger:      0 72% 51%;   /* #dc2626 */
    --mn-info:       217 80% 54%;  /* #2563eb */
    --mn-pearl:      38 78% 47%;   /* #d97706 */

    /* Stíny */
    --mn-shadow-1: 0 1px  8px rgba(15, 23, 42, 0.06);
    --mn-shadow-2: 0 4px 16px rgba(15, 23, 42, 0.08);
    --mn-shadow-3: 0 8px 32px rgba(15, 23, 42, 0.10);

    /* Border radius — 1 standard pro celý portál */
    --mn-radius-xs:   4px;
    --mn-radius-sm:   8px;
    --mn-radius-md:   10px;
    --mn-radius-lg:   14px;   /* karty */
    --mn-radius-xl:   20px;   /* hero sekce */
    --mn-radius-full: 9999px;

    /* Spacing */
    --mn-sp-1: 4px;  --mn-sp-2: 8px;   --mn-sp-3: 12px;
    --mn-sp-4: 16px; --mn-sp-5: 20px;  --mn-sp-6: 24px;
    --mn-sp-8: 32px; --mn-sp-10: 40px; --mn-sp-12: 48px;

    /* Layout */
    --mn-max-content: 1200px;
    --mn-sidebar-w:   288px;
    --mn-topbar-h:    64px;

    /* shadcn mapping */
    --background:              var(--mn-bg);
    --foreground:              var(--mn-text);
    --card:                    var(--mn-surface);
    --card-foreground:         var(--mn-text);
    --popover:                 var(--mn-elevated);
    --popover-foreground:      var(--mn-text);
    --primary:                 var(--mn-accent);
    --primary-foreground:      210 40% 98%;
    --secondary:               var(--mn-surface-2);
    --secondary-foreground:    var(--mn-text);
    --muted:                   var(--mn-surface-2);
    --muted-foreground:        var(--mn-muted);
    --accent:                  var(--mn-surface-2);
    --accent-foreground:       var(--mn-text);
    --destructive:             var(--mn-danger);
    --destructive-foreground:  210 40% 98%;
    --border:                  var(--mn-border);
    --input:                   var(--mn-border);
    --ring:                    var(--mn-accent);
    --radius:                  0.625rem;
    --chart-1: 12 76% 61%;  --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%; --chart-4: 43  74% 66%; --chart-5: 27 87% 67%;
    --sidebar-background:        var(--mn-surface);
    --sidebar-foreground:        var(--mn-text);
    --sidebar-primary:           var(--mn-accent);
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent:            var(--mn-surface-2);
    --sidebar-accent-foreground: var(--mn-text);
    --sidebar-border:            var(--mn-border);
    --sidebar-ring:              var(--mn-accent);
  }
}


/* ─────────────────────────────────────────────────────────────────
   ▼ EDIT 3 — TMAVÉ TÉMA
   Přesné hex hodnoty z BRAND.dark design systému.
   ───────────────────────────────────────────────────────────────── */
@layer base {
  .dark {
    /* Povrchy — BRAND.dark, větší kontrast vrstev */
    --mn-bg:            222 28%  6%;   /* #090d14 — tmavší bg */
    --mn-surface:       224 24% 11%;   /* #141824 — světlejší karty */
    --mn-surface-2:     225 22% 15%;   /* #1c2133 — výrazněji odlišeno */
    --mn-elevated:      226 20% 19%;   /* #232a3e — popovers viditelné */
    --mn-border:        226 18% 24%;   /* #2f3548 — jasnější border */
    --mn-border-subtle: 226 18% 18%;   /* #222840 */

    /* Text — větší kontrast */
    --mn-text:          220 25% 96%;   /* #f1f3f8 — čistě bílý */
    --mn-muted:         224 14% 68%;   /* #9ba0b8 — lépe čitelné */
    --mn-muted-2:       224 10% 48%;   /* #6b6f88 */

    /* Akcent teal — živější v dark modu */
    --mn-accent:        173 80% 44%;   /* #16c4b0 — více zářivý */
    --mn-accent-hover:  174 76% 36%;   /* #0fa898 */
    --mn-accent-light:  166 72% 58%;   /* #3dd9c6 — světlejší pro text */
    --mn-accent-subtle: 173 80% 44% / 0.10;

    /* Sekundární akcent cyan */
    --mn-accent-2:      188 100% 48%;  /* #00c8e8 — živější */

    /* Sémantické */
    --mn-success:   160 60% 45%;   /* #10b981 */
    --mn-warn:       38 92% 55%;   /* #f59e0b */
    --mn-danger:      0 72% 60%;   /* #ef4444 */
    --mn-info:       217 80% 60%;  /* #3b82f6 */
    --mn-pearl:      38 92% 55%;   /* #f59e0b */

    /* Stíny */
    --mn-shadow-1: 0 2px 12px rgba(0, 0, 0, 0.30);
    --mn-shadow-2: 0 6px 24px rgba(0, 0, 0, 0.45);
    --mn-shadow-3: 0 12px 40px rgba(0, 0, 0, 0.55);
  }
}


/* ═══════════════════════════════════════════════════════════════════
   UTILITY TŘÍDY
   ═══════════════════════════════════════════════════════════════════ */

@layer utilities {

  /* ── Fonty ── */
  .mn-serif       { font-family: var(--mn-font-serif); }
  .mn-sans        { font-family: var(--mn-font-sans); }
  .mn-mono        { font-family: var(--mn-font-mono); }
  .mn-serif-font  { font-family: var(--mn-font-serif); }
  .mn-ui-font     { font-family: var(--mn-font-sans); }
  .mn-mono-font   { font-family: var(--mn-font-mono); }
  .mn-caption     { font-family: var(--mn-font-sans); font-weight: 600; font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; }
  .mn-label       { font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: hsl(var(--mn-muted)); }

  /* ── Typografie ── */
  .mn-page-title {
    font-family: var(--mn-font-serif);
    font-size: clamp(28px, 5vw, 42px);
    font-weight: 700; letter-spacing: -0.02em; line-height: 1.1;
    color: hsl(var(--mn-text));
  }
  .mn-section-heading {
    font-family: var(--mn-font-serif);
    font-size: clamp(22px, 3vw, 30px);
    font-weight: 700; letter-spacing: -0.02em;
    color: hsl(var(--mn-text));
  }
  .mn-card-title {
    font-family: var(--mn-font-sans);
    font-size: 15px; font-weight: 600; letter-spacing: -0.01em;
    color: hsl(var(--mn-text));
  }
  .mn-eyebrow {
    font-family: var(--mn-font-sans);
    font-size: 11px; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.08em;
    color: hsl(var(--mn-muted));
  }
  .mn-eyebrow-accent {
    font-family: var(--mn-font-sans);
    font-size: 11px; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.08em;
    color: hsl(var(--mn-accent));
  }

  /* Hodnoty / kódy */
  .mn-value {
    font-family: var(--mn-font-mono); font-size: 0.9em; font-weight: 500;
    color: hsl(var(--mn-accent-light));
    background: hsl(var(--mn-accent) / 0.10);
    padding: 1px 6px; border-radius: var(--mn-radius-xs);
  }
  .mn-value-display {
    font-family: var(--mn-font-mono); font-weight: 700;
    letter-spacing: -0.02em; color: hsl(var(--mn-text));
  }

  /* Gradient text — "Kristián", "chytřeji s AI" */
  .mn-accent-text {
    background: linear-gradient(135deg, hsl(var(--mn-accent)), hsl(var(--mn-accent-2)));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }
  .mn-gradient-text {
    background: linear-gradient(135deg, hsl(var(--mn-accent-light)), hsl(var(--mn-accent-2)));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }

  /* ── Karty ── */
  .mn-card {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-lg);
    box-shadow: var(--mn-shadow-1);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }
  .mn-card:hover { border-color: hsl(var(--mn-accent) / 0.3); box-shadow: var(--mn-shadow-2); }

  .mn-card-secondary {
    background: hsl(var(--mn-surface-2));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-lg);
    box-shadow: var(--mn-shadow-1);
    transition: border-color 0.2s ease;
  }
  .mn-card-secondary:hover { border-color: hsl(var(--mn-accent) / 0.25); }

  .mn-card-elevated {
    background: hsl(var(--mn-elevated));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-lg);
    box-shadow: var(--mn-shadow-2);
  }

  /* Hero karta — větší radius, pro hero sekce stránek */
  .mn-card-hero {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-xl);
    box-shadow: var(--mn-shadow-2);
    position: relative; overflow: hidden;
  }

  /* ── Stat bloky ── */
  .mn-stat {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-lg);
    padding: var(--mn-sp-5); text-align: center;
  }
  .mn-stat-num  { font-family: var(--mn-font-mono); font-size: 2rem; font-weight: 700; letter-spacing: -0.03em; color: hsl(var(--mn-text)); line-height: 1; }
  .mn-stat-desc { font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: hsl(var(--mn-muted)); margin-top: 6px; }
  /* Aliasy zpětné kompatibility */
  .mn-stat-card  { background: hsl(var(--mn-surface)); border: 1px solid hsl(var(--mn-border)); border-radius: var(--mn-radius-lg); padding: 24px; text-align: center; }
  .mn-stat-value { font-family: var(--mn-font-sans); font-size: 2.25rem; font-weight: 700; color: hsl(var(--mn-text)); letter-spacing: -0.03em; line-height: 1; }
  .mn-stat-label { font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: hsl(var(--mn-muted)); margin-top: 6px; }

  /* ── Tagy / Pills ── */
  .mn-tag {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 2px 10px; border-radius: var(--mn-radius-full);
    font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; line-height: 1.6;
    background: hsl(var(--mn-surface-2));
    border: 1px solid hsl(var(--mn-border));
    color: hsl(var(--mn-muted));
  }
  .mn-tag-accent  { background: hsl(var(--mn-accent)  / 0.10); border-color: hsl(var(--mn-accent)  / 0.25); color: hsl(var(--mn-accent));  }
  .mn-tag-warn    { background: hsl(var(--mn-warn)    / 0.10); border-color: hsl(var(--mn-warn)    / 0.25); color: hsl(var(--mn-warn));    }
  .mn-tag-danger  { background: hsl(var(--mn-danger)  / 0.10); border-color: hsl(var(--mn-danger)  / 0.25); color: hsl(var(--mn-danger));  }
  .mn-tag-success { background: hsl(var(--mn-success) / 0.10); border-color: hsl(var(--mn-success) / 0.25); color: hsl(var(--mn-success)); }
  .mn-tag-info    { background: hsl(var(--mn-info)    / 0.10); border-color: hsl(var(--mn-info)    / 0.25); color: hsl(var(--mn-info));    }
  .mn-tag-purple  { background: hsl(271 76% 53% / 0.10); border-color: hsl(271 76% 53% / 0.25); color: hsl(271 76% 60%); }

  .mn-pill-badge {
    display: inline-flex; align-items: center; gap: 6px;
    background: hsl(var(--mn-surface-2)); border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-full); padding: 4px 14px;
    font-size: 13px; font-family: var(--mn-font-sans); color: hsl(var(--mn-text));
  }
  .mn-pill-badge::before { content: ''; width: 7px; height: 7px; border-radius: 50%; background: hsl(var(--mn-accent)); flex-shrink: 0; }

  /* ── Interaktivní řádky ── */
  .mn-row { display: flex; align-items: center; padding: 12px 16px; border-radius: var(--mn-radius-sm); transition: background 0.15s; cursor: pointer; }
  .mn-row:hover { background: hsl(var(--mn-surface-2)); }

  /* ── Progress ── */
  .mn-progress-track { background: hsl(var(--mn-border)); border-radius: var(--mn-radius-full); overflow: hidden; }
  .mn-progress-fill  { background: linear-gradient(90deg, hsl(var(--mn-accent)), hsl(var(--mn-accent-2))); border-radius: var(--mn-radius-full); height: 100%; transition: width 0.5s ease; }

  /* ── Spinner ── */
  .mn-spinner { width: 32px; height: 32px; border: 3px solid hsl(var(--mn-border)); border-top-color: hsl(var(--mn-accent)); border-radius: 50%; animation: mn-spin 0.7s linear infinite; }
  @keyframes mn-spin { to { transform: rotate(360deg); } }

  /* ── Helpers ── */
  .mn-divider   { border: none; border-top: 1px solid hsl(var(--mn-border)); margin: 0; }
  .mn-empty     { text-align: center; padding: 48px 24px; color: hsl(var(--mn-muted)); font-family: var(--mn-font-sans); }
  .mn-shadow    { box-shadow: var(--mn-shadow-1); }
  .mn-shadow-lg { box-shadow: var(--mn-shadow-2); }
  .mn-shadow-xl { box-shadow: var(--mn-shadow-3); }

  /* Atmospheric efekty (Landing + Dashboard hero) */
  .mn-dot-grid {
    background-image: radial-gradient(circle at 1px 1px, hsl(var(--mn-text) / 0.04) 0.5px, transparent 0);
    background-size: 24px 24px;
  }
  .mn-glow-accent {
    background: radial-gradient(circle, hsl(var(--mn-accent) / 0.10) 0%, transparent 70%);
    filter: blur(60px);
  }
}


/* ═══════════════════════════════════════════════════════════════════
   LAYOUT
   ═══════════════════════════════════════════════════════════════════ */

.mn-shell { background: hsl(var(--mn-bg)); color: hsl(var(--mn-text)); min-height: 100vh; }
.mn-main  { background: hsl(var(--mn-bg)); }

.mn-sidebar { background: hsl(var(--mn-surface)); border-right: 1px solid hsl(var(--mn-border)); }
html:not(.dark) .mn-sidebar { box-shadow: 2px 0 12px rgba(15, 23, 42, 0.04); }

.mn-topbar {
  background: hsl(var(--mn-surface) / 0.92);
  border-bottom: 1px solid hsl(var(--mn-border));
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
html:not(.dark) .mn-topbar { background: hsla(0, 0%, 100%, 0.90); }

.mn-sidebar .is-active,
.mn-sidebar-link.is-active {
  background: hsl(var(--mn-accent) / 0.12);
  color: hsl(var(--mn-accent));
  box-shadow: inset 0 0 0 1px hsl(var(--mn-accent) / 0.2);
}


/* ═══════════════════════════════════════════════════════════════════
   INTERAKTIVNÍ KOMPONENTY
   ═══════════════════════════════════════════════════════════════════ */

.atesto-card { background: hsl(var(--mn-surface)); border: 1px solid hsl(var(--mn-border)); border-radius: var(--mn-radius-lg); box-shadow: var(--mn-shadow-1); transition: border-color 0.2s, box-shadow 0.2s; }
.atesto-card:hover { border-color: hsl(var(--mn-accent) / 0.3); box-shadow: var(--mn-shadow-2); }
.atesto-card-inner { padding: 1.5rem; }
.atesto-card-title { color: hsl(var(--mn-text)); font-family: var(--mn-font-sans); font-weight: 600; letter-spacing: -0.01em; }

.atesto-btn { border-radius: var(--mn-radius-md); font-family: var(--mn-font-sans); font-weight: 500; }
.atesto-btn-primary { background: linear-gradient(135deg, hsl(var(--mn-accent)), hsl(var(--mn-accent-2))); color: #fff; border: none; }
.atesto-btn-primary:hover { opacity: 0.9; }
.atesto-btn-ghost { border: 1px solid hsl(var(--mn-border)); color: hsl(var(--mn-text)); background: transparent; transition: border-color 0.2s, background 0.2s; }
.atesto-btn-ghost:hover { background: hsl(var(--mn-surface-2)); border-color: hsl(var(--mn-accent) / 0.4); }
html:not(.dark) .atesto-btn.border,
html:not(.dark) .atesto-btn.bg-background { background: hsl(var(--mn-surface)); color: hsl(var(--mn-text)); border-color: hsl(var(--mn-border)); box-shadow: 0 1px 2px rgba(15,23,42,0.06); }
html:not(.dark) .atesto-btn.border:hover,
html:not(.dark) .atesto-btn.bg-background:hover { background: hsl(var(--mn-surface-2)); }

.atesto-input, .atesto-select { background: hsl(var(--mn-elevated)); border-color: hsl(var(--mn-border)); color: hsl(var(--mn-text)); font-family: var(--mn-font-sans); transition: border-color 0.15s, box-shadow 0.15s; }
.atesto-input:focus, .atesto-select:focus { outline: none; border-color: hsl(var(--mn-accent) / 0.6); box-shadow: 0 0 0 3px hsl(var(--mn-accent) / 0.15); }

.atesto-badge { border-radius: var(--mn-radius-full); font-family: var(--mn-font-sans); }
html:not(.dark) .badge-outline,
html:not(.dark) .badge-secondary { background: hsl(var(--mn-surface-2)); color: hsl(var(--mn-text)); border-color: hsl(var(--mn-border)); }
html:not(.dark) .badge-secondary:hover { background: hsl(var(--mn-surface)); }
.logbook-badges .atesto-badge { background: hsl(var(--mn-surface-2)); color: hsl(var(--mn-text)); border: 1px solid hsl(var(--mn-border)); }

.atesto-progressbar { background: hsl(var(--mn-accent) / 0.12); border-radius: var(--mn-radius-full); }

.atesto-tabs-list, .mn-segmented { background: hsl(var(--mn-surface-2)); border: 1px solid hsl(var(--mn-border)); border-radius: var(--mn-radius-full); padding: 4px; gap: 6px; }
.atesto-tab { color: hsl(var(--mn-muted)); font-family: var(--mn-font-sans); font-size: 13.5px; font-weight: 500; transition: color 0.15s; }
.atesto-tab[data-state="active"], .mn-segmented [data-state="active"] { background: hsl(var(--mn-elevated)); color: hsl(var(--mn-text)); box-shadow: 0 1px 3px rgba(0,0,0,0.15); }
.atesto-tab[data-state="inactive"]:hover, .mn-segmented [data-state="inactive"]:hover { background: hsl(var(--mn-elevated) / 0.6); color: hsl(var(--mn-text)); }

[data-radix-popper-content-wrapper] { z-index: 60 !important; }
[role="listbox"], [data-radix-select-content],
[data-radix-dropdown-menu-content], [data-radix-popover-content] { background: hsl(var(--mn-elevated)) !important; border-color: hsl(var(--mn-border)) !important; box-shadow: var(--mn-shadow-2) !important; }


/* ═══════════════════════════════════════════════════════════════════
   CONTENT KOMPONENTY
   ═══════════════════════════════════════════════════════════════════ */

.callout         { border-left: 4px solid hsl(var(--mn-accent));   background: hsl(var(--mn-accent)   / 0.06); padding: 0.75rem 1rem; border-radius: var(--mn-radius-sm); }
.callout--info   { border-left-color: hsl(var(--mn-info));         background: hsl(var(--mn-info)      / 0.06); }
.callout--warn   { border-left-color: hsl(var(--mn-warn));         background: hsl(var(--mn-warn)      / 0.08); }
.callout--danger { border-left-color: hsl(var(--mn-danger));       background: hsl(var(--mn-danger)    / 0.08); }
.callout--pearl  { border-left-color: hsl(var(--mn-pearl));        background: hsl(var(--mn-pearl)     / 0.08); }

.mn-pearl-block { padding: 12px 16px; border-radius: var(--mn-radius-sm); border-left: 3px solid hsl(var(--mn-pearl)); background: hsl(var(--mn-pearl) / 0.08); font-family: var(--mn-font-serif); font-size: 13px; line-height: 1.6; color: hsl(var(--mn-text)); }

blockquote { border-left-color: hsl(var(--mn-accent)); }

.tiptap-rendered-content { font-family: var(--mn-font-serif); font-size: 1.05rem; line-height: 1.75; color: hsl(var(--mn-text)); }
.tiptap-rendered-content p { margin: 0.9rem 0; }
.tiptap-rendered-content p:first-child { margin-top: 0; }
.tiptap-rendered-content p:last-child  { margin-bottom: 0; }
.tiptap-rendered-content h1 { font-family: var(--mn-font-serif); font-size: 2rem; font-weight: 700; letter-spacing: -0.02em; color: hsl(var(--mn-text)); margin-top: 2.2em; margin-bottom: 0.9em; border-bottom: 1px solid hsl(var(--mn-border)); padding-bottom: 0.45em; }
.tiptap-rendered-content h2 { font-family: var(--mn-font-serif); font-size: 1.5rem; font-weight: 700; letter-spacing: -0.02em; color: hsl(var(--mn-text)); margin-top: 2.2em; margin-bottom: 0.9em; border-left: 4px solid hsl(var(--mn-accent)); border-bottom: 1px solid hsl(var(--mn-border)); padding-left: 1rem; padding-bottom: 0.45em; }
.tiptap-rendered-content h3 { font-family: var(--mn-font-serif); font-size: 1.25rem; font-weight: 700; letter-spacing: -0.015em; color: hsl(var(--mn-text)); margin-top: 2em; margin-bottom: 0.7em; }
.tiptap-rendered-content strong { font-weight: 700; color: hsl(var(--mn-text)); }
.tiptap-rendered-content em { font-style: italic; }
.tiptap-rendered-content a { color: hsl(var(--mn-accent-light)); text-decoration: underline; text-decoration-color: hsl(var(--mn-accent) / 0.35); text-underline-offset: 3px; font-weight: 500; }
.tiptap-rendered-content code { background: hsl(var(--mn-elevated)); color: hsl(var(--mn-accent-light)); border: 1px solid hsl(var(--mn-border)); border-radius: var(--mn-radius-xs); padding: 1px 6px; font-size: 0.875em; font-family: var(--mn-font-mono); }
.tiptap-rendered-content pre { background: hsl(var(--mn-elevated)); color: hsl(var(--mn-text)); padding: 1em; border-radius: var(--mn-radius-sm); overflow-x: auto; margin: 1.4em 0; border: 1px solid hsl(var(--mn-border)); }
.tiptap-rendered-content pre code { background: transparent; color: inherit; padding: 0; border: none; }
.tiptap-rendered-content ul,
.tiptap-rendered-content ol { margin: 1.2rem 0; background: hsl(var(--mn-surface-2)); border-left: 3px solid hsl(var(--mn-accent)); padding: 0.9rem 1rem 0.9rem 2rem; border-radius: 0.6rem; display: block; }
.tiptap-rendered-content ul { list-style-type: disc; }
.tiptap-rendered-content ol { list-style-type: decimal; }
.tiptap-rendered-content li { margin: 0.8em 0; line-height: 1.9; }
.tiptap-rendered-content table { width: 100%; border-collapse: collapse; margin: 2em 0; }
.tiptap-rendered-content thead { background: hsl(var(--mn-surface-2)); }
.tiptap-rendered-content tbody tr:nth-child(even) { background: hsl(var(--mn-surface)); }
.tiptap-rendered-content th { font-weight: 600; text-align: left; padding: 0.75rem; border: 1px solid hsl(var(--mn-border)); }
.tiptap-rendered-content td { padding: 0.75rem; border: 1px solid hsl(var(--mn-border)); }
.tiptap-rendered-content blockquote { border-left: 4px solid hsl(var(--mn-accent)); padding: 0.5em 1em; margin: 1.4em 0; font-style: italic; background: hsl(var(--mn-surface-2)); }
.tiptap-rendered-content hr { border: none; border-top: 1px solid hsl(var(--mn-border)); margin: 2.2em 0; }
.tiptap-rendered-content mark { background: hsl(var(--mn-warn) / 0.22); padding: 0.125em 0.25em; border-radius: 0.25rem; }

.mn-reading { max-width: 1120px; margin: 0 auto; }
.mn-reading .atesto-card { background: hsl(var(--mn-surface)); }
.mn-reading .tiptap-rendered-content { max-width: 1040px; margin: 0 auto; }
.high-yield-content .tiptap-rendered-content li { margin: 1.2em 0; }


/* ═══════════════════════════════════════════════════════════════════
   GLOBÁLNÍ PŘEPISY
   ═══════════════════════════════════════════════════════════════════ */

[class*="rounded-xl"].border,
[class*="rounded-2xl"].border,
[class*="rounded-lg"].border { border-color: hsl(var(--mn-border)); }

.shadow-lg  { box-shadow: var(--mn-shadow-2) !important; }
.shadow-xl  { box-shadow: var(--mn-shadow-2) !important; }
.shadow-2xl { box-shadow: var(--mn-shadow-3) !important; }

/* Fialová → info */
.text-\[\#a855f7\]   { color: hsl(var(--mn-info)) !important; }
.bg-\[\#a855f7\]     { background: hsl(var(--mn-info) / 0.10) !important; }
.border-\[\#a855f7\] { border-color: hsl(var(--mn-info) / 0.30) !important; }

/* Pink → warn */
.text-\[\#ec4899\] { color: hsl(var(--mn-warn)) !important; }
.bg-\[\#ec4899\]   { background: hsl(var(--mn-warn) / 0.10) !important; }

/* Slate → tokeny */
.bg-slate-700\/30 { background: hsl(var(--mn-surface-2)) !important; }
.text-slate-600   { color: hsl(var(--mn-muted)) !important; }


/* ═══════════════════════════════════════════════════════════════════
   SPECIÁLNÍ KOMPONENTY
   ═══════════════════════════════════════════════════════════════════ */

.planner-calendar .rdp { width: 100%; max-width: 100%; overflow: hidden; }
.planner-calendar { max-width: 100%; overflow-x: auto; }
.planner-calendar .rdp table { width: 100%; }
.planner-calendar .rdp .rdp-day,
.planner-calendar .rdp .rdp-day_button,
.planner-calendar .rdp .day { width: clamp(28px, 3vw, 36px); height: clamp(28px, 3vw, 36px); }
.planner-calendar .rdp .head_cell  { width: clamp(28px, 3vw, 36px); }
.planner-calendar .rdp .nav_button { flex: 0 0 auto; }
.planner-calendar .rdp .caption    { padding-inline: 32px; }
html:not(.dark) .rdp .day,
html:not(.dark) .rdp .rdp-day,
html:not(.dark) .rdp .rdp-day_button,
html:not(.dark) .rdp .rdp-button,
html:not(.dark) .rdp button         { color: hsl(var(--mn-text)) !important; }
html:not(.dark) .rdp .head_cell     { color: hsl(var(--mn-muted)); font-weight: 600; }
html:not(.dark) .rdp .caption_label { color: hsl(var(--mn-text)) !important; }
html:not(.dark) .rdp .rdp-day_outside,
html:not(.dark) .rdp .rdp-day_disabled,
html:not(.dark) .rdp [aria-disabled="true"] { color: hsl(var(--mn-muted)) !important; opacity: 0.5; }
html:not(.dark) .rdp { color: hsl(var(--mn-text)) !important; }


/* ═══════════════════════════════════════════════════════════════════
   VIZUÁLNÍ UPGRADE — sjednocení portálu s landing page stylem
   ═══════════════════════════════════════════════════════════════════ */

/* Sidebar dostane subtilní gradient jako landing page */
.mn-sidebar {
  background: hsl(var(--mn-surface));
  border-right: 1px solid hsl(var(--mn-border));
  /* Jemný teal gradient ze spodu — jako landing page ambient glow */
  background-image: radial-gradient(
    ellipse 60% 40% at 50% 100%,
    hsl(var(--mn-accent) / 0.04) 0%,
    transparent 100%
  );
}

/* Active sidebar link — výraznější, jako landing page CTA */
.mn-sidebar .is-active,
.mn-sidebar-link.is-active {
  background: hsl(var(--mn-accent) / 0.12);
  color: hsl(var(--mn-accent));
  box-shadow:
    inset 0 0 0 1px hsl(var(--mn-accent) / 0.2),
    0 1px 4px hsl(var(--mn-accent) / 0.08);
}

/* Sidebar nav ikona v aktivním stavu — živější barva */
.mn-sidebar .is-active svg,
.mn-sidebar-link.is-active svg {
  color: hsl(var(--mn-accent));
  filter: drop-shadow(0 0 4px hsl(var(--mn-accent) / 0.4));
}

/* Topbar search input — jako landing page nav */
.mn-topbar input[type="text"],
.mn-topbar input[type="search"],
.mn-topbar [role="combobox"] {
  background: hsl(var(--mn-surface-2));
  border-color: hsl(var(--mn-border));
  transition: border-color 0.2s, background 0.2s;
}
.mn-topbar input:focus,
.mn-topbar [role="combobox"]:focus-within {
  border-color: hsl(var(--mn-accent) / 0.5);
  background: hsl(var(--mn-surface));
}

/* Page layout helper — každá stránka portálu používá toto */
@layer utilities {
  /* Standardní padding pro page content */
  .mn-page {
    max-width: 1280px;
    margin: 0 auto;
    padding: 40px 32px;
  }
  @media (max-width: 640px) {
    .mn-page { padding: 24px 16px; }
  }

  /* Stránka header (eyebrow + h1 + podtext) */
  .mn-page-header {
    margin-bottom: 32px;
  }

  /* Section spacing */
  .mn-sections {
    display: flex;
    flex-direction: column;
    gap: 32px;
  }

  /* Hero karta — větší, s border (jako landing stats grid) */
  .mn-hero-card {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: var(--mn-radius-xl);
    overflow: hidden;
    position: relative;
  }

  /* Teal glow v hero kartě — jako landing hero sekce */
  .mn-hero-card::before {
    content: '';
    position: absolute;
    top: 0; right: 0;
    width: 300px; height: 200px;
    background: radial-gradient(circle, hsl(var(--mn-accent) / 0.08) 0%, transparent 70%);
    filter: blur(40px);
    pointer-events: none;
  }

  /* Feature ikona — jako landing page feature grid ikony */
  .mn-feature-icon {
    width: 40px; height: 40px;
    border-radius: var(--mn-radius-sm);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .group:hover .mn-feature-icon {
    transform: scale(1.1);
    box-shadow: 0 4px 12px currentColor;
  }

  /* Stats grid — jako landing page "1 468 témat" */
  .mn-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1px;
    border-radius: var(--mn-radius-lg);
    overflow: hidden;
    border: 1px solid hsl(var(--mn-border));
    background: hsl(var(--mn-border));
  }
  .mn-stats-grid > * {
    background: hsl(var(--mn-surface));
    padding: 20px 24px;
    text-align: center;
  }

  /* Gradient CTA button — přesně jako landing page "Začít zdarma" */
  .mn-btn-cta {
    background: hsl(var(--mn-accent));
    color: white;
    border: none;
    border-radius: var(--mn-radius-md);
    font-family: var(--mn-font-sans);
    font-weight: 600;
    box-shadow: 0 4px 12px hsl(var(--mn-accent) / 0.25);
    transition: opacity 0.2s, box-shadow 0.2s, transform 0.1s;
  }
  .mn-btn-cta:hover {
    opacity: 0.9;
    box-shadow: 0 6px 20px hsl(var(--mn-accent) / 0.35);
    transform: translateY(-1px);
  }
  .mn-btn-cta:active { transform: translateY(0); }

  /* Outline button — jako landing "Prohlédnout ukázku" */
  .mn-btn-outline {
    background: transparent;
    border: 1px solid hsl(var(--mn-border));
    color: hsl(var(--mn-text));
    border-radius: var(--mn-radius-md);
    font-family: var(--mn-font-sans);
    font-weight: 500;
    transition: border-color 0.2s, background 0.2s;
  }
  .mn-btn-outline:hover {
    background: hsl(var(--mn-surface-2));
    border-color: hsl(var(--mn-accent) / 0.4);
  }

  /* Pill/badge "NOVÁ GENERACE" styl */
  .mn-status-pill {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 12px;
    border-radius: var(--mn-radius-full);
    background: hsl(var(--mn-surface-2));
    border: 1px solid hsl(var(--mn-border));
    font-family: var(--mn-font-sans);
    font-size: 11px; font-weight: 500;
    color: hsl(var(--mn-muted));
  }
  .mn-status-pill .mn-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: hsl(var(--mn-success));
    animation: mn-pulse 2s infinite;
  }
  @keyframes mn-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
  }

  /* Section divider s gradient — jako na landing page sekce */
  .mn-section-rule {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--mn-border)) 20%,
      hsl(var(--mn-border)) 80%,
      transparent
    );
    margin: 8px 0;
  }
}

/* mn-card hover přepis — více výrazný jako landing feature karty */
.mn-card-secondary:hover {
  border-color: hsl(var(--mn-accent) / 0.3);
  box-shadow: 0 4px 20px hsl(var(--mn-accent) / 0.06);
}

/* Karty s group hover — scale efekt jako na Landing */
.group .mn-card-secondary,
.group .mn-card {
  transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s;
}

/* ── GLOBAL PAGE PADDING — konzistentní padding pro všechny stránky portálu ──
   Stránky které nepoužívají .mn-page helper dostanou aspoň základní px */
.mn-main > main > div:first-child,
.mn-main > main > section:first-child {
  /* neměň — stránky mají vlastní padding, toto je jen fallback */
}


/* ═══════════════════════════════════════════════════════════════════
   TYPOGRAFIE UPGRADE — větší, čitelnější, výraznější
   ═══════════════════════════════════════════════════════════════════ */

/* Base font size trochu větší */
body {
  font-size: 15px;
  line-height: 1.6;
}

/* Sidebar nav text — čitelnější */
.mn-sidebar nav a,
.mn-sidebar nav button {
  font-size: 14px;
  letter-spacing: 0.01em;
}

/* Sidebar neaktivní links — viditelný text (ne moc šedý) */
.mn-sidebar nav a:not(.is-active),
.mn-sidebar nav button:not(.is-active) {
  color: hsl(var(--mn-muted));
}

/* Topbar search placeholder */
.mn-topbar input::placeholder {
  color: hsl(var(--mn-muted-2));
}

/* Section label gradient line — živější */
.mn-section-gradient-line {
  height: 1px;
  background: linear-gradient(90deg, hsl(var(--mn-accent) / 0.5) 0%, hsl(var(--mn-accent-2) / 0.3) 30%, transparent 80%);
}

/* Stat čísla — mono font výraznější v dark */
.dark .mn-mono-font {
  font-feature-settings: "tnum" 1;
}

/* Karty v dark — víc definované stíny */
.dark .mn-card,
.dark .mn-card-secondary,
.dark .atesto-card {
  box-shadow: 0 1px 0 0 hsl(var(--mn-border) / 0.5) inset,
              0 -1px 0 0 rgba(0,0,0,0.3) inset;
}

/* Progress bar — živější gradient */
.mn-progress-fill {
  background: linear-gradient(90deg, hsl(var(--mn-accent)), hsl(var(--mn-accent-2)));
  box-shadow: 0 0 8px hsl(var(--mn-accent) / 0.4);
}

/* mn-accent-text — gradient intenzivnější */
.dark .mn-accent-text {
  background: linear-gradient(135deg, hsl(var(--mn-accent-light)), hsl(var(--mn-accent-2)));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 20px hsl(var(--mn-accent) / 0.4));
}

/* Eyebrow accent — výraznější */
.dark .mn-eyebrow-accent {
  color: hsl(var(--mn-accent-light));
  text-shadow: 0 0 12px hsl(var(--mn-accent) / 0.5);
}

/* Sidebar active link — teal glow */
.dark .mn-sidebar .is-active,
.dark .mn-sidebar-link.is-active {
  background: hsl(var(--mn-accent) / 0.15);
  color: hsl(var(--mn-accent-light));
  box-shadow: inset 0 0 0 1px hsl(var(--mn-accent) / 0.25),
              0 2px 12px hsl(var(--mn-accent) / 0.12);
}

/* CTA button — glow efekt */
.dark .mn-btn-cta {
  background: hsl(var(--mn-accent));
  box-shadow: 0 4px 20px hsl(var(--mn-accent) / 0.35),
              0 0 0 1px hsl(var(--mn-accent) / 0.2);
}
.dark .mn-btn-cta:hover {
  box-shadow: 0 8px 32px hsl(var(--mn-accent) / 0.5),
              0 0 0 1px hsl(var(--mn-accent) / 0.4);
  transform: translateY(-2px);
}
