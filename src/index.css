@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* ════════════════════════════════════════════════════════════════
   ▼ EDIT 1: FONTY
   ════════════════════════════════════════════════════════════════ */
@layer base {
  :root {
    --mn-font-serif: 'Source Serif 4', Georgia, serif;
    --mn-font-sans:  'IBM Plex Sans', -apple-system, sans-serif;
    --mn-font-mono:  'IBM Plex Mono', monospace;
  }
  body {
    font-family: var(--mn-font-sans);
    -webkit-font-smoothing: antialiased;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
  * { border-color: hsl(var(--border)); outline-color: hsl(var(--ring) / 0.5); }
}

/* ════════════════════════════════════════════════════════════════
   ▼ EDIT 2: SVĚTLÉ TÉMA (hex hodnoty z BRAND.light v design systému)
   ════════════════════════════════════════════════════════════════ */
@layer base {
  :root {
    /* Povrchy — BRAND.light */
    --mn-bg:        220 18% 97%;   /* #f5f7fa */
    --mn-surface:   0 0% 100%;     /* #ffffff */
    --mn-surface-2: 220 16% 94%;   /* #f0f2f6 */
    --mn-elevated:  0 0% 100%;     /* #ffffff */
    --mn-border:    220 15% 88%;   /* #e2e5ee */
    --mn-border-subtle: 220 15% 93%; /* #ebeef4 */

    /* Text */
    --mn-text:      221 39% 11%;   /* #111827 */
    --mn-muted:     220 9% 46%;    /* #6b7280 */
    --mn-muted-2:   220 9% 60%;    /* #9ca3af */

    /* Akcent — BRAND.light.accent */
    --mn-accent:    174 82% 31%;   /* #0d9488 */
    --mn-accent-hover: 174 76% 25%; /* #0f766e */
    --mn-accent-light: 173 58% 39%; /* #14b8a6 */
    --mn-accent-subtle: 173 58% 39% / 0.08;
    --mn-secondary: 192 82% 36%;   /* #0891b2 */

    /* Sémantické */
    --mn-success:   160 60% 38%;   /* #059669 */
    --mn-warn:      38 92% 46%;    /* #d97706 */
    --mn-danger:    0 72% 51%;     /* #dc2626 */
    --mn-info:      217 80% 54%;   /* #2563eb */
    --mn-pearl:     38 78% 47%;    /* #d97706 */

    /* Stíny */
    --mn-shadow-1: 0 1px 8px rgba(15,23,42,0.06);
    --mn-shadow-2: 0 4px 16px rgba(15,23,42,0.08);

    /* Radius */
    --mn-radius-sm:   4px;
    --mn-radius-md:   8px;
    --mn-radius:      10px;
    --mn-radius-lg:   14px;
    --mn-radius-full: 999px;

    /* Spacing */
    --mn-space-1: 4px; --mn-space-2: 8px; --mn-space-3: 12px;
    --mn-space-4: 16px; --mn-space-5: 20px; --mn-space-6: 24px;
    --mn-space-8: 32px; --mn-space-10: 40px; --mn-space-12: 48px;

    /* shadcn mapping */
    --background: var(--mn-bg);
    --foreground: var(--mn-text);
    --card: var(--mn-surface-2);
    --card-foreground: var(--mn-text);
    --popover: var(--mn-elevated);
    --popover-foreground: var(--mn-text);
    --primary: var(--mn-accent);
    --primary-foreground: 210 40% 98%;
    --secondary: var(--mn-surface-2);
    --secondary-foreground: var(--mn-text);
    --muted: var(--mn-surface-2);
    --muted-foreground: var(--mn-muted);
    --accent: var(--mn-surface-2);
    --accent-foreground: var(--mn-text);
    --destructive: var(--mn-danger);
    --destructive-foreground: 210 40% 98%;
    --border: var(--mn-border);
    --input: var(--mn-border);
    --ring: var(--mn-accent);
    --radius: 0.625rem;
    --chart-1: 12 76% 61%; --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%; --chart-4: 43 74% 66%; --chart-5: 27 87% 67%;
    --sidebar-background: var(--mn-surface);
    --sidebar-foreground: var(--mn-text);
    --sidebar-primary: var(--mn-accent);
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: var(--mn-surface-2);
    --sidebar-accent-foreground: var(--mn-text);
    --sidebar-border: var(--mn-border);
    --sidebar-ring: var(--mn-accent);
  }
}

/* ════════════════════════════════════════════════════════════════
   ▼ EDIT 3: TMAVÉ TÉMA (hex hodnoty z BRAND.dark v design systému)
   ════════════════════════════════════════════════════════════════ */
@layer base {
  .dark {
    /* Povrchy — neutrální tmavá, odpovídá landing page / referenčnímu UI */
    --mn-bg:        230 12% 7%;    /* #0f1117 */
    --mn-surface:   228 12% 10%;   /* #161820 */
    --mn-surface-2: 228 12% 13%;   /* #1c1e2a */
    --mn-elevated:  228 11% 17%;   /* #232536 */
    --mn-border:    228 13% 21%;   /* #2a2d3e */
    --mn-border-subtle: 228 13% 17%; /* #222438 */

    /* Text */
    --mn-text:      228 15% 92%;   /* #e8e9ed */
    --mn-muted:     228 11% 65%;   /* #9b9db2 */
    --mn-muted-2:   228 9%  45%;   /* #6b6d82 */

    /* Akcent — BRAND.dark.accent */
    --mn-accent:    173 72% 40%;   /* #14b8a6 */
    --mn-accent-hover: 174 76% 32%; /* #0d9488 */
    --mn-accent-light: 166 64% 52%; /* #2dd4bf */
    --mn-accent-subtle: 173 72% 40% / 0.10;
    --mn-secondary: 188 96% 43%;   /* #06b6d4 */

    /* Sémantické */
    --mn-success:   160 60% 45%;   /* #10b981 */
    --mn-warn:      38 92% 55%;    /* #f59e0b */
    --mn-danger:    0 72% 60%;     /* #ef4444 */
    --mn-info:      217 80% 60%;   /* #3b82f6 */
    --mn-pearl:     38 92% 55%;    /* #f59e0b */

    /* Stíny */
    --mn-shadow-1: 0 2px 12px rgba(0,0,0,0.25);
    --mn-shadow-2: 0 8px 24px rgba(0,0,0,0.4);
  }
}


/* ════════════════════════════════════════════════════════════════
   UTILITY TŘÍDY — jednotný systém pro celý portál
   Použití v JSX: className="mn-card", "mn-card-sm", atd.
   ════════════════════════════════════════════════════════════════ */

/* ── KARTY ── jeden standard napříč celým portálem */
@layer utilities {
  .mn-card {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: 14px;
    box-shadow: var(--mn-shadow-1);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }
  .mn-card:hover {
    border-color: hsl(var(--mn-accent) / 0.3);
  }
  .mn-card-secondary {
    background: hsl(var(--mn-surface-2));
    border: 1px solid hsl(var(--mn-border));
    border-radius: 14px;
    box-shadow: var(--mn-shadow-1);
  }
  .mn-card-elevated {
    background: hsl(var(--mn-elevated));
    border: 1px solid hsl(var(--mn-border));
    border-radius: 14px;
    box-shadow: var(--mn-shadow-2);
  }

  /* ── HEADINGY ── */
  .mn-h1 { font-family: var(--mn-font-serif); font-size: clamp(28px,5vw,42px); font-weight: 700; letter-spacing: -0.02em; color: hsl(var(--mn-text)); line-height: 1.1; }
  .mn-h2 { font-family: var(--mn-font-serif); font-size: 1.5rem; font-weight: 700; letter-spacing: -0.02em; color: hsl(var(--mn-text)); }
  .mn-h3 { font-family: var(--mn-font-sans); font-size: 1rem; font-weight: 600; letter-spacing: -0.01em; color: hsl(var(--mn-text)); }
  .mn-label { font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: hsl(var(--mn-muted)); }
  .mn-value-display { font-family: var(--mn-font-mono); font-weight: 700; letter-spacing: -0.02em; color: hsl(var(--mn-text)); }

  /* ── ACCENT TEXT GRADIENT ── */
  .mn-accent-text {
    background: linear-gradient(135deg, hsl(var(--mn-accent)), hsl(var(--mn-secondary)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ── SEKCE HEADER ── */
  .mn-section-title {
    font-family: var(--mn-font-sans);
    font-size: 11px; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.08em;
    color: hsl(var(--mn-accent));
    margin-bottom: 20px;
  }

  /* ── STAT BLOKY (jako na landing page) ── */
  .mn-stat {
    background: hsl(var(--mn-surface));
    border: 1px solid hsl(var(--mn-border));
    border-radius: 14px; padding: 20px; text-align: center;
  }
  .mn-stat-num { font-family: var(--mn-font-sans); font-size: 2rem; font-weight: 700; letter-spacing: -0.03em; color: hsl(var(--mn-text)); line-height: 1; }
  .mn-stat-desc { font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: hsl(var(--mn-muted)); margin-top: 6px; }

  /* ── INTERAKTIVNÍ ŘÁDKY ── */
  .mn-row {
    display: flex; align-items: center;
    padding: 12px 16px; border-radius: 10px;
    transition: background 0.15s;
    cursor: pointer;
  }
  .mn-row:hover { background: hsl(var(--mn-surface-2)); }

  /* ── TAGY / PILLS ── */
  .mn-tag {
    display: inline-flex; align-items: center; gap: 4px;
    padding: 2px 10px; border-radius: 999px;
    font-family: var(--mn-font-sans); font-size: 11px; font-weight: 600;
    background: hsl(var(--mn-surface-2));
    border: 1px solid hsl(var(--mn-border));
    color: hsl(var(--mn-muted));
  }
  .mn-tag-accent {
    background: hsl(var(--mn-accent) / 0.10);
    border-color: hsl(var(--mn-accent) / 0.25);
    color: hsl(var(--mn-accent));
  }
  .mn-tag-warn {
    background: hsl(var(--mn-warn) / 0.10);
    border-color: hsl(var(--mn-warn) / 0.25);
    color: hsl(var(--mn-warn));
  }
  .mn-tag-danger {
    background: hsl(var(--mn-danger) / 0.10);
    border-color: hsl(var(--mn-danger) / 0.25);
    color: hsl(var(--mn-danger));
  }
  .mn-tag-success {
    background: hsl(var(--mn-success) / 0.10);
    border-color: hsl(var(--mn-success) / 0.25);
    color: hsl(var(--mn-success));
  }
  .mn-tag-info {
    background: hsl(var(--mn-info) / 0.10);
    border-color: hsl(var(--mn-info) / 0.25);
    color: hsl(var(--mn-info));
  }
  /* info → použij pro "High-yield" tagy kde design systém používal purple */
  .mn-tag-purple {
    background: hsl(271 76% 53% / 0.10);
    border-color: hsl(271 76% 53% / 0.25);
    color: hsl(271 76% 60%);
  }

  /* ── PROGRESS BAR ── */
  .mn-progress-track { background: hsl(var(--mn-border)); border-radius: 999px; overflow: hidden; }
  .mn-progress-fill  { background: linear-gradient(90deg, hsl(var(--mn-accent)), hsl(var(--mn-secondary))); border-radius: 999px; height: 100%; transition: width 0.5s ease; }

  /* ── DIVIDER ── */
  .mn-divider { border: none; border-top: 1px solid hsl(var(--mn-border)); margin: 0; }

  /* ── SPINNER ── */
  .mn-spinner { width: 32px; height: 32px; border: 3px solid hsl(var(--mn-border)); border-top-color: hsl(var(--mn-accent)); border-radius: 50%; animation: mn-spin 0.7s linear infinite; }
  @keyframes mn-spin { to { transform: rotate(360deg); } }

  /* ── EMPTY STATE ── */
  .mn-empty { text-align: center; padding: 48px 24px; color: hsl(var(--mn-muted)); font-family: var(--mn-font-sans); }

  /* ── SHADOW UTILITIES ── (nahrazuje shadow-lg/shadow-2xl) */
  .mn-shadow   { box-shadow: var(--mn-shadow-1); }
  .mn-shadow-lg { box-shadow: var(--mn-shadow-2); }
}

/* ════════════════════════════════════════════════════════════════
   GLOBÁLNÍ PŘEPISY — sjednocení shadcn komponent s design systémem
   ════════════════════════════════════════════════════════════════ */

/* shadcn Card → vždy mn-card styl */
[class*="rounded-xl"].border,
[class*="rounded-2xl"].border,
[class*="rounded-lg"].border {
  border-color: hsl(var(--mn-border));
}

/* Všechny shadow-lg a shadow-2xl → mn-shadow */
.shadow-lg   { box-shadow: var(--mn-shadow-2) !important; }
.shadow-xl   { box-shadow: var(--mn-shadow-2) !important; }
.shadow-2xl  { box-shadow: 0 12px 40px rgba(0,0,0,0.35) !important; }

/* Fialová (#a855f7) nahrazena mn-info (blue) — fialová není v design systému */
/* Tyto třídy přepíší hardcoded purple v Logbook/Admin/Community */
.text-\[\#a855f7\]  { color: hsl(var(--mn-info)) !important; }
.bg-\[\#a855f7\]    { background: hsl(var(--mn-info) / 0.10) !important; }
.border-\[\#a855f7\] { border-color: hsl(var(--mn-info) / 0.30) !important; }

/* Pink (#ec4899) → warn */
.text-\[\#ec4899\]  { color: hsl(var(--mn-warn)) !important; }
.bg-\[\#ec4899\]    { background: hsl(var(--mn-warn) / 0.10) !important; }

/* Starý slate (StudiumV3) → mn tokeny */
.bg-slate-700\/30   { background: hsl(var(--mn-surface-2)) !important; }
.text-slate-600     { color: hsl(var(--mn-muted)) !important; }
